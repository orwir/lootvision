"use strict";(self.webpackChunkoccamfilter=self.webpackChunkoccamfilter||[]).push([[413],{2792:function(e,t,a){a.r(t),a.d(t,{Head:function(){return p},default:function(){return v}});var l=a(4506),r=a(4164),n=a(6540),c=a(7986),s=a(3112);const o={game:"",leagueVersion:"",leagueName:"",id:(0,s.gZ)(),name:"",lastUpdated:new Date,description:"",categories:[]},i=(0,n.createContext)({filter:o,setFilter:()=>{}}),m=(0,n.createContext)({category:null,setCategory:()=>{}});function d(){const{filter:e,setFilter:t}=(0,n.useContext)(i),{setCategory:a}=(0,n.useContext)(m),{0:o,1:d}=(0,n.useState)(0);return n.createElement("div",{className:"flex w-[20ch] flex-col"},e.categories.map(((l,s)=>n.createElement("div",{key:l.id,className:(0,r.A)("w-full items-center border-b border-r border-neutral-500 text-left text-xl",{"border-b-0 border-r-0 font-bold":s===o,"rounded-tr-md border-t":s===o+1,"rounded-br-md":s===o-1,"text-neutral-400 hover:text-teal-500":s!==o})},s===o?n.createElement(c.Fo,{className:"mx-3 my-4 w-full text-left",text:l.name,placeholder:"category...",onTextChange:r=>function(l,r){l=Object.assign({},l,{name:r}),t(Object.assign({},e,{categories:e.categories.map((e=>e.id===l.id?l:e))})),a(l)}(l,r)}):n.createElement("button",{className:"w-full px-3 py-4 text-left",onClick:()=>function(e,t){d(e),a(t)}(s,l)},l.name?l.name:"...")))),n.createElement("div",{className:(0,r.A)("flex w-[20ch] flex-grow border-r border-neutral-500 px-2 pt-8",{"rounded-tr-md border-t":o===e.categories.length-1})},n.createElement(c.K0,{icon:"mingcute:file-new-line",text:"New category",onClick:function(){const r={id:(0,s.gZ)(),name:"",rules:[]};t(Object.assign({},e,{categories:[].concat((0,l.A)(e.categories),[r])})),a(r),d(e.categories.length)}})))}function u(e){let{action:t,config:a}=e;return n.createElement("div",{className:"flex flex-row"},n.createElement("div",{style:{width:a.width+"ch"},className:"border-b border-neutral-500"},t.label),n.createElement("div",{className:"truncate border-b border-neutral-500 pe-2 ps-2"},t.value))}function f(e){let{condition:t,config:a}=e;return n.createElement("div",{className:"flex flex-row"},n.createElement("div",{style:{width:a.width+"ch"},className:"border-b border-neutral-500"},t.label),n.createElement("div",{className:"truncate border-b border-neutral-500 pe-2 ps-2"},t.value))}function x(e){let{rule:t}=e;const{0:a,1:s}=(0,n.useState)(!1),o=[].concat((0,l.A)(t.actions),(0,l.A)(t.conditions)).reduce(((e,t)=>Math.max(t.label.length,e)),0);return n.createElement("div",{className:"flex w-full flex-col rounded-md border border-neutral-500"},n.createElement("div",{className:(0,r.A)("flex w-full flex-row justify-between space-x-3 rounded-t-md bg-neutral-900 px-2 py-2",{"rounded-b-md":!a})},n.createElement(c.K0,{icon:a?"mingcute:square-arrow-up-line":"mingcute:square-arrow-down-line",onClick:()=>{s(!a)}}),n.createElement("div",{className:"flex-grow font-bold"},t.name),n.createElement(c.K0,{icon:"mingcute:edit-4-line",onClick:()=>{}}),n.createElement(c.K0,{icon:"mingcute:delete-2-line",onClick:()=>{}})),a&&n.createElement("div",{className:"w-full rounded-b-md bg-neutral-950 px-3 py-2"},n.createElement("div",{className:"mb-2 flex h-28 flex-col items-center justify-center bg-slate-800"},n.createElement("div",null,"Filter rule preview"),n.createElement("div",null,"Coming soon")),n.createElement("div",{className:"text-gray-400"},"Actions"),n.createElement("div",{className:"flex flex-col space-y-1"},t.actions.map((e=>n.createElement(u,{key:e.id,action:e,config:{width:o}})))),n.createElement("div",{className:"mt-4 text-gray-400"},"Conditions"),n.createElement("div",{className:"mb-2 flex flex-col space-y-1"},t.conditions.map((e=>n.createElement(f,{key:e.id,condition:e,config:{width:o}}))))))}function g(){const{category:e}=(0,n.useContext)(m);return n.createElement("div",{className:"flex w-full"},e&&n.createElement("div",{className:"flex w-full flex-col space-y-2 px-4 py-2"},e.rules.map((e=>n.createElement(x,{rule:e,key:e.id})))))}var E=a(6543),b=a(1042);function v(e){let{data:t,params:a}=e;const{version:l,"*":r}=a,u=(0,s.aP)(l,r);if(!u&&r)return n.createElement(w,null);const f=t.allPoeMetadata.nodes.map((e=>({name:e.league,version:e.version}))),{0:x,1:b}=(0,n.useState)(u||Object.assign({},o,{game:l,id:(0,s.gZ)(),leagueVersion:f[0].version,leagueName:f[0].name})),{0:v,1:p}=(0,n.useState)(x.categories[0]);return(0,n.useEffect)((()=>{console.log("saveFilter: ",x)}),[x]),n.createElement(E.A,null,n.createElement(i.Provider,{value:{filter:x,setFilter:b}},n.createElement(m.Provider,{value:{category:v,setCategory:p}},n.createElement("div",{className:"flex h-full justify-center"},n.createElement("div",{className:"flex w-[900px] flex-col space-y-2"},n.createElement("div",{className:"flex flex-row items-center space-x-4 pe-7 pt-2"},n.createElement("div",{className:"w-44"},n.createElement(c.Fo,{className:"truncate ps-3 text-lg",text:x.name,placeholder:"filter name...",onTextChange:e=>b(Object.assign({},x,{name:e}))})),n.createElement("div",{className:"flex-grow"}),n.createElement(c.ms,{data:f.map((e=>({text:e.name,value:e}))),onSelected:()=>{}})),n.createElement("div",{className:"flex h-full flex-row rounded-md border border-neutral-500"},n.createElement(d,null),n.createElement(g,null)))))))}const p=()=>n.createElement(b.A,{title:""});function w(){return n.createElement(E.A,null,n.createElement("div",{className:"font-ubuntu flex flex-col items-center space-y-6 pt-24"},n.createElement("div",{className:"text-4xl"},"Exile!"),n.createElement("div",{className:"text-3xl"},"Your filter is in another browser!"),n.createElement("div",{className:"w-[38ch] whitespace-pre-wrap"},"░░░░░░░░▄▄▄▀▀▀▄▄███▄░░░░░░░░░░░░░░ ░░░░░▄▀▀░░░░░░░▐░▀██▌░░░░░░░░░░░░░ ░░░▄▀░░░░▄▄███░▌▀▀░▀█░░░░░░░░░░░░░ ░░▄█░░▄▀▀▒▒▒▒▒▄▐░░░░█▌░░░░░░░░░░░░ ░▐█▀▄▀▄▄▄▄▀▀▀▀▌░░░░░▐█▄░░░░░░░░░░░ ░▌▄▄▀▀░░░░░░░░▌░░░░▄███████▄░░░░░░ ░░░░░░░░░░░░░▐░░░░▐███████████▄░░░ ░░░░░le░░░░░░░▐░░░░▐█████████████▄ ░░░░toucan░░░░░░▀▄░░░▐█████████████▄ ░░░░░░has░░░░░░░░▀▄▄███████████████ ░░░░░arrived░░░░░░░░░░░░█▀██████░░")))}}}]);
//# sourceMappingURL=component---src-pages-game-version-filter-tsx-4215db85a6f5e03353a9.js.map